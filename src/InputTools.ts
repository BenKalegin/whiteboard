

export interface QuickDrawGuide {
    width: number
    height: number
}

export interface QuickDrawRequest {
    language: string
    writing_guide: QuickDrawGuide
    ink: number[][][]
}

export interface QuickDrawPayload {
    input_type: number;
    requests: QuickDrawRequest[];
}

let obj = {
    "input_type": 0,
    "requests": [
        {
            "language": "quickdraw",
            "writing_guide": {"width": 799, "height": 969},
            "ink":
                [
                    [
                        [250, 250, 250, 250, 250, 250, 250, 250, 250, 251, 251, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 251, 251, 251, 251, 256, 262, 267, 272, 277, 283, 290, 296, 303, 309, 315, 322, 329, 335, 340, 346, 352, 357, 362, 366, 369, 373, 375, 377, 378, 380, 382, 382, 384, 385, 386, 386, 387, 387, 387, 387, 387, 387, 386, 385, 383, 383, 381, 381, 379, 378, 377, 374, 369, 364, 359, 354, 349, 344, 339, 334, 329, 323, 318, 313, 308, 303, 297, 292, 287, 282, 277, 272, 266, 261, 256, 251],
                        [85, 91, 97, 103, 110, 115, 121, 130, 135, 142, 148, 154, 160, 165, 171, 177, 182, 188, 194, 200, 205, 210, 216, 221, 226, 231, 233, 233, 232, 231, 231, 230, 229, 228, 228, 228, 228, 228, 228, 228, 228, 228, 229, 230, 230, 225, 219, 214, 209, 204, 199, 194, 189, 184, 178, 172, 167, 162, 156, 150, 144, 138, 133, 127, 120, 115, 109, 104, 99, 94, 89, 84, 79, 74, 71, 69, 68, 68, 68, 69, 71, 72, 74, 76, 77, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78],
                        [0, 44, 53, 59, 65, 69, 73, 80, 84, 89, 92, 97, 100, 104, 107, 111, 115, 121, 127, 133, 139, 147, 157, 169, 181, 199, 287, 297, 303, 309, 314, 319, 325, 330, 335, 342, 345, 351, 357, 364, 367, 375, 383, 393, 416, 471, 482, 490, 495, 501, 507, 516, 520, 526, 532, 537, 543, 548, 553, 559, 565, 571, 576, 581, 587, 594, 599, 605, 614, 621, 632, 648, 678, 707, 727, 741, 757, 769, 782, 798, 811, 825, 837, 850, 859, 867, 875, 883, 891, 900, 905, 912, 919, 927, 937, 949, 964, 984]
                    ]
                ]
        }
    ]
}

export const inkPayload = (width: number, height: number, points: { x: number; y: number; time: number }[]) => {
    return {
        input_type: 0,
        requests: [
            {
                language: "quickdraw",
                writing_guide: { width: width, height: height},
                ink: [
                    [
                        points.map(v => v.x),
                        points.map(v => v.y),
                        points.map(v => v.time)
                    ]
                ]
            }
        ]
    }
}
