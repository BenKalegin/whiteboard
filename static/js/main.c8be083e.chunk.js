(this.webpackJsonpwhiteboard=this.webpackJsonpwhiteboard||[]).push([[0],{26:function(e,t,n){e.exports=n(48)},31:function(e,t,n){},38:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(14),i=n.n(c),l=(n(31),n(21)),s=function(e){var t=e.active?" activePen":"";return o.a.createElement("button",{className:"chrome-Button pen embedded"+t,id:"red","aria-label":"Content Creation Toolbar - Ink Red Pen","aria-selected":"false",role:"tab",title:e.color+" Pen",onClick:e.onClick},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 "+(e.active?"-8":"-24")+" 96 96"},o.a.createElement("g",null,o.a.createElement("rect",{className:"pen-0",width:"96",height:"96"}),o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("polygon",{fill:e.color,points:"68.004 96 28 96 29.004 58 67.004 58 68.004 96"})),o.a.createElement("g",null,o.a.createElement("path",{fill:e.color,d:"M55,14C52,4,50,0,47.999,0,46,0,44,4,41,14l.00287,2H54.99713Z"})),o.a.createElement("g",null,o.a.createElement("path",{className:"pen-1",d:"M57.00287,16l-2-2h-14l-2,2s-9.16663,22.33325-10,42L29,60H67.00287V58C66.16949,38.33325,57.00287,16,57.00287,16Z"}))),o.a.createElement("g",null,o.a.createElement("polygon",{className:"pen-2",points:"36 59 36 96 60 96 60 59 36 59"}),o.a.createElement("polygon",{className:"pen-3",points:"41 15 38 59 58 59 55 15 41 15"})),o.a.createElement("g",null,o.a.createElement("polygon",{points:"29.004 58 28 96 30.001 96 30.952 60 65.056 60 66.003 96 68.004 96 67.004 58 29.004 58"}),o.a.createElement("path",{d:"M47.999,2c.06757,0,.346.15382.645.649l.03763.0623.04206.05941c.0536.07572,1.3214,\r 1.92808,4.1846,11.22925H43.09171C45.956,4.69527,47.22008,2.84621,47.27344,2.77076l.04318-.06067.03855-.06371C47.65355,\r 2.15319,47.93148,2,47.999,2m0-2a2.88457,2.88457,0,0,0-2.355,1.61108C45.383,1.97778,43.97986,4.22339,41,14l.00287,\r 2H54.99713L55,14C52.03259,4.264,50.62592,1.99634,50.356,1.61511A2.88666,2.88666,0,0,0,47.999,0Z"}),o.a.createElement("path",{d:"M54.17445,16l1.12417,1.12418C56.46608,20.07411,64.22884,40.29125,65.001,\r 58H31.00472c.77218-17.70875,8.53493-37.92589,9.7024-40.87582L41.83129,16H54.17445m.82842-2h-14l-2,2s-9.16663,\r 22.33326-10,42L29,60H67.00287V58c-.83338-19.66674-10-42-10-42l-2-2Z"})))))},u=function(e){return o.a.createElement("button",{id:"enablePanzoom",className:"chrome-Button","aria-label":"Move canvas tool",title:"Move canvas tool"},o.a.createElement("svg",{className:"enablePanzoomIcon",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32"},o.a.createElement("path",{d:"M4.1,17.1l3.4,3.4L6,22l-6-6l6-6l1.5,1.5l-3.4,3.4h6.6v2.1H4.1z M32,16l-5.9,5.9l-1.5-1.5l3.3-3.3h-6.6v-2.1h6.6l-3.4-3.4\r L26,10L32,16z M11.6,7.4l-1.5-1.5L16,0l6,6l-1.5,1.5l-3.4-3.4v6.6h-2.1V4.1L11.6,7.4z M20.5,24.5L22,26l-6,6l-6-6l1.5-1.5l3.4,3.4\r v-6.6h2.1v6.6L20.5,24.5z"})))},f=function(e){return o.a.createElement("button",{className:"chrome-Button pen embedded",id:"erase","aria-label":"Content Creation Toolbar - Ink Eraser","aria-selected":"false",role:"tab",title:"Eraser",onClick:e.onClick},o.a.createElement("svg",{version:"1.1",id:"Eraser",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 "+(e.active?"-8":"-24")+" 96 96"},o.a.createElement("rect",{className:"eraser-0",width:"96",height:"96"}),o.a.createElement("g",null,o.a.createElement("path",{className:"eraser-1",d:"M38,0h20c4.4,0,8,3.6,8,8v16H30V8C30,3.6,33.6,0,38,0z"}),o.a.createElement("rect",{x:"28",y:"58",className:"eraser-2",width:"40",height:"38"}),o.a.createElement("polygon",{className:"eraser-3",points:"30,22 66,22 68,24 68,60 28,60 28,24 "}),o.a.createElement("linearGradient",{id:"barrel_highlight_1_",gradientUnits:"userSpaceOnUse",x1:"36.1318",y1:"-1008.9948",x2:"60.0228",y2:"-1008.9948",gradientTransform:"matrix(1 0 0 -1 0 -931.9948)"},o.a.createElement("stop",{offset:"0.16",stopColor:"#FFFFFF",stopOpacity:"0"}),o.a.createElement("stop",{offset:"0.5",stopColor:"#FFFFFF",stopOpacity:"0.7"}),o.a.createElement("stop",{offset:"0.84",stopColor:"#FFFFFF",stopOpacity:"0"})),o.a.createElement("polygon",{className:"eraser-4",points:"48.2,58 48,58 36,58 36,96 48,96 48.2,96 60,96 60,58 \t"}),o.a.createElement("linearGradient",{id:"metal_highlight_1_",gradientUnits:"userSpaceOnUse",x1:"38.112",y1:"-972.9948",x2:"58.2844",y2:"-972.9948",gradientTransform:"matrix(1 0 0 -1 0 -931.9948)"},o.a.createElement("stop",{offset:"0.16",stopColor:"#FFFFFF",stopOpacity:"0"}),o.a.createElement("stop",{offset:"0.5",stopColor:"#FFFFFF"}),o.a.createElement("stop",{offset:"0.84",stopColor:"#FFFFFF",stopOpacity:"0"})),o.a.createElement("polygon",{className:"eraser-5",points:"48.2,22 48,22 36,22 36,60 48,60 48.2,60 60,60 60,22 \t"})),o.a.createElement("path",{d:"M66,22V8c0-4.4-3.6-8-8-8H38c-4.4,0-8,3.6-8,8v14l-2,2v72h2V60h36v36h2V24L66,22z M32,8c0-3.2,2.6-6,5.8-6H38\r h20c3.2,0,6,2.6,6,5.8V8v14H32V8z M30,58V24.8l0.8-0.8h34.4l0.8,0.8V58H30z"})))};!function(e){e[e.None=0]="None",e[e.PanZoom=1]="PanZoom",e[e.Black=2]="Black",e[e.Red=3]="Red",e[e.Green=4]="Green",e[e.Blue=5]="Blue",e[e.Eraser=6]="Eraser"}(a||(a={}));var p,m,d,v={smoothWindow:1,toolSelected:a.None,inkDraw:{committedPoints:[],projectedPoints:[],smoothFactor:1,smoothingBuffer:[],startedAt:0,tracking:!1},figures:new Array},h=n(6),y=function(e){var t=Object(h.c)((function(e){return e.canvas.toolSelected}));return o.a.createElement("div",{id:"chrome",className:"embedded"},o.a.createElement("svg",{className:"svgDefs",xmlns:"http://www.w3.org/2000/svg",visibility:"hidden"},o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:"pen-linear-gradient",x1:"36.1146",y1:"1057.5",x2:"60.0056",y2:"1057.5",gradientTransform:"translate(0 -980)",gradientUnits:"userSpaceOnUse"},o.a.createElement("stop",{offset:"0.2",stopColor:"#fff",stopOpacity:"0"}),o.a.createElement("stop",{offset:"0.2048",stopColor:"#fff",stopOpacity:"0.00948"}),o.a.createElement("stop",{offset:"0.2972",stopColor:"#fff",stopOpacity:"0.1775"}),o.a.createElement("stop",{offset:"0.3805",stopColor:"#fff",stopOpacity:"0.2992"}),o.a.createElement("stop",{offset:"0.4509",stopColor:"#fff",stopOpacity:"0.3734"}),o.a.createElement("stop",{offset:"0.5",stopColor:"#fff",stopOpacity:"0.4"}),o.a.createElement("stop",{offset:"0.5576",stopColor:"#fff",stopOpacity:"0.3835"}),o.a.createElement("stop",{offset:"0.6177",stopColor:"#fff",stopOpacity:"0.3344"}),o.a.createElement("stop",{offset:"0.679",stopColor:"#fff",stopOpacity:"0.2526"}),o.a.createElement("stop",{offset:"0.7406",stopColor:"#fff",stopOpacity:"0.1388"}),o.a.createElement("stop",{offset:"0.8",stopColor:"#fff",stopOpacity:"0"})),o.a.createElement("linearGradient",{id:"pen-linear-gradient-2",x1:"39.75",y1:"1017",x2:"56.5602",y2:"1017",gradientTransform:"translate(0 -980)",gradientUnits:"userSpaceOnUse"},o.a.createElement("stop",{offset:"0.16",stopColor:"#fff",stopOpacity:"0"}),o.a.createElement("stop",{offset:"0.2179",stopColor:"#fff",stopOpacity:"0.2236"}),o.a.createElement("stop",{offset:"0.2949",stopColor:"#fff",stopOpacity:"0.4965"}),o.a.createElement("stop",{offset:"0.3645",stopColor:"#fff",stopOpacity:"0.7131"}),o.a.createElement("stop",{offset:"0.424",stopColor:"#fff",stopOpacity:"0.8691"}),o.a.createElement("stop",{offset:"0.4711",stopColor:"#fff",stopOpacity:"0.9648"}),o.a.createElement("stop",{offset:"0.5",stopColor:"#fff"}),o.a.createElement("stop",{offset:"0.5289",stopColor:"#fff",stopOpacity:"0.9648"}),o.a.createElement("stop",{offset:"0.576",stopColor:"#fff",stopOpacity:"0.8691"}),o.a.createElement("stop",{offset:"0.6355",stopColor:"#fff",stopOpacity:"0.7131"}),o.a.createElement("stop",{offset:"0.7051",stopColor:"#fff",stopOpacity:"0.4965"}),o.a.createElement("stop",{offset:"0.7821",stopColor:"#fff",stopOpacity:"0.2236"}),o.a.createElement("stop",{offset:"0.84",stopColor:"#fff",stopOpacity:"0"})))),o.a.createElement("div",{id:"penCalloutToastContainer",className:"toastContainer"},o.a.createElement("div",{id:"pens",className:"chromeContainer embedded",role:"tablist"},o.a.createElement(u,null),o.a.createElement(s,{color:"black",active:t===a.Black,onClick:function(){return e.selectTool(a.Black)}}),o.a.createElement(s,{color:"red",active:t===a.Red,onClick:function(){return e.selectTool(a.Red)}}),o.a.createElement(s,{color:"green",active:t===a.Green,onClick:function(){return e.selectTool(a.Green)}}),o.a.createElement(s,{color:"blue",active:t===a.Blue,onClick:function(){return e.selectTool(a.Blue)}}),o.a.createElement(f,{active:t===a.Eraser,onClick:function(){return e.selectTool(a.Eraser)}}))))},g=function(e){var t=e.model,n=t.pathPoints.map((function(e,t){return function(e){return 0===e?"M":"L"}(t)+e.x.toFixed(1)+" "+e.y.toFixed(1)})).join(" ");return o.a.createElement("path",{id:t.id,xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:t.strokeColor,strokeOpacity:t.toBeDeleted?"25%":void 0,strokeWidth:t.strokeWidth,d:n})},E=function(e){var t=e.model;return o.a.createElement("g",{id:t.id,x:t.offset.x,y:t.offset.y},t.curves.map((function(e,t){return o.a.createElement(g,{model:e,key:t})})))};!function(e){e.QuickDrawPredictionReceived="PREDICT_QUICKDRAW_RECEIVED",e.LookupBasicShape="LOOKUP_BASIC_SHAPE"}(p||(p={})),function(e){e.ToolSelected="CANVAS_SET_TOOL",e.CanvasMouseDown="CANVAS_MOUSE_DOWN",e.CanvasMouseMove="CANVAS_MOUSE_MOVE",e.CanvasMouseUp="CANVAS_MOUSE_UP"}(m||(m={})),function(e){e.StartApplication="APP_START",e.CurveCompleted="APP_CURVE_COMPLETED"}(d||(d={}));var b=function(e){return(arguments.length<=1?0:arguments.length-1)>0?{type:e,payload:arguments.length<=1?void 0:arguments[1]}:{type:e}},x=function(e){return(arguments.length<=1?0:arguments.length-1)>0?{type:e,payload:arguments.length<=1?void 0:arguments[1]}:{type:e}},C=function(e){return(arguments.length<=1?0:arguments.length-1)>0?{type:e,payload:arguments.length<=1?void 0:arguments[1]}:{type:e}},O=function(){var e=Object(h.c)((function(e){return e.canvas.toolSelected})),t=Object(h.c)((function(e){return e.canvas.figures})),n=Object(h.b)(),c=Object(r.useRef)(null),i=function(e){var t=c.current;if(!t)return{absolute:{x:0,y:0},relative:{x:0,y:0}};var n=t.getBoundingClientRect();return{absolute:{x:e.pageX,y:e.pageY},relative:{x:e.pageX-n.left,y:e.pageY-n.top}}},l=e===a.Eraser?" eraseActive":"";return o.a.createElement("div",{id:"svgParent",className:"flexAlignCenter"+l,style:{overflow:"hidden"}},o.a.createElement("main",{id:"svg",ref:c,"aria-label":"Whiteboard Canvas. Capture your ideas and collaborate with others"},o.a.createElement("svg",{"aria-hidden":"true",onMouseDown:function(e){return function(e){n({type:m.CanvasMouseDown,payload:{point:i(e)}})}(e)},onMouseMove:function(e){return function(e){n({type:m.CanvasMouseMove,payload:{point:i(e)}})}(e)},onMouseUp:function(e){return function(e){n({type:m.CanvasMouseUp,payload:{point:i(e)}})}(e)},xmlns:"http://www.w3.org/2000/svg",height:"1000",width:"1000"},o.a.createElement("g",{id:"canvas-decorators"},o.a.createElement("circle",{cx:"0",cy:"0",r:"40",fill:"rgba(0,105,191,1)"}),o.a.createElement("circle",{cx:"0%",cy:"100%",r:"40",fill:"rgba(0,105,191,1)"}),o.a.createElement("circle",{cx:"100%",cy:"0%",r:"40",fill:"rgba(0,105,191,1)"}),o.a.createElement("circle",{cx:"100%",cy:"100%",r:"40",fill:"rgba(0,105,191,1)"})),o.a.createElement("g",{id:"canvas-figures"},t.map((function(e,t){return o.a.createElement(E,{key:t,model:e})}))))))},w=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Smoothing"),o.a.createElement("p",null,"Simplifies the line by averaging specified number of points."),o.a.createElement("div",{id:"divSmoothingFactor"},o.a.createElement("label",{htmlFor:"cmbBufferSize"},"Buffer size:"),o.a.createElement("select",{id:"cmbBufferSize",value:e.smoothWindow,onChange:function(t){return e.smoothWindowChanged(parseInt(t.target.value))}},o.a.createElement("option",{value:"1"},"1 - No smoothing"),o.a.createElement("option",{value:"4"},"4 - Sharp curves"),o.a.createElement("option",{value:"8"},"8 - Smooth curves"),o.a.createElement("option",{value:"12"},"12 - Very smooth curves"),o.a.createElement("option",{value:"16"},"16 - Super smooth curves"),o.a.createElement("option",{value:"20"},"20 - Hyper smooth curves"))))},k=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Recognize the drawing"),o.a.createElement("p",null,"Draw any figure (mug, apple, cat, mosquito, house) using one ink pen color:"),o.a.createElement("ul",null,e.predictions.slice(0,5).map((function(e,t){return o.a.createElement("li",{key:t},e)}))))},j=function(e){var t=function(e,t){for(var n,a=document.getElementsByClassName("tabcontent"),r=0;r<a.length;r++){a[r].setAttribute("style","display=none")}for(var o=document.getElementsByClassName("tablinks"),c=0;c<o.length;c++)o[c].className=o[c].className.replace(" active","");null===(n=document.getElementById(t))||void 0===n||n.setAttribute("style","display: block"),e.currentTarget.className+=" active"};return o.a.createElement("div",{id:"footer"},o.a.createElement("p",null,"There are some tabs below with whiteboard drawing enhancements:"),o.a.createElement("div",{className:"tab"},o.a.createElement("button",{className:"tablinks",onClick:function(e){return t(e,"simplify")}},"Smooth"),o.a.createElement("button",{className:"tablinks",onClick:function(e){return t(e,"predict")}},"Predict"),o.a.createElement("button",{className:"tablinks",onClick:function(e){return t(e,"shape")}},"Autoshape")),o.a.createElement("div",{id:"simplify",className:"tabcontent"},o.a.createElement(w,{smoothWindow:e.smoothWindow,smoothWindowChanged:e.smoothWindowChanged})),o.a.createElement("div",{id:"predict",className:"tabcontent"},o.a.createElement(k,{predictions:e.predictions})),o.a.createElement("div",{id:"shape",className:"tabcontent"},o.a.createElement(k,{predictions:e.predictions})))};n(38);function S(){var e=o.a.useState(1),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(h.c)((function(e){return e.predictions.quickDraw.topMatches})),i=Object(h.b)(),s=Object(r.useState)(!1),u=Object(l.a)(s,1)[0];Object(r.useEffect)((function(){u||i(C(d.StartApplication,{}))}),[u,i]);return o.a.createElement("div",{className:"App"},o.a.createElement(y,{selectTool:function(e){return function(e){i({type:m.ToolSelected,payload:{tool:e}})}(e)}}),o.a.createElement(O,null),o.a.createElement(j,{smoothWindow:n,smoothWindowChanged:function(e){return a(e)},predictions:c}))}var F=n(25),B=n(7),P=n(4),M=n(5),N=n(24),D=function e(){Object(N.a)(this,e)};D.appendToSmoothingBuffer=function(e,t){var n=[].concat(Object(M.a)(t.smoothingBuffer),[Object(P.a)({},e,{timespan:Date.now()-t.startedAt})]);return n.length>t.smoothFactor&&n.shift(),Object(P.a)({},t,{smoothingBuffer:n})},D.getAveragePoint=function(e,t){var n=t.smoothingBuffer.length;if(n%2===1||n>=t.smoothFactor){var a,r,o=0,c=0,i=0,l=0;for(r=e;r<n;r++)l++,o+=(a=t.smoothingBuffer[r]).x,c+=a.y,i+=a.timespan;return{x:o/l,y:c/l,timespan:i/l}}return null},D.updateVisiblePoints=function(e){var t=D.getAveragePoint(0,e);if(t){for(var n=[].concat(Object(M.a)(e.committedPoints),[t]),a=[],r=2;r<e.smoothingBuffer.length;r+=2)null!=(t=D.getAveragePoint(r,e))&&a.push(t);return Object(P.a)({},e,{projectedPoints:[].concat(Object(M.a)(n),a),committedPoints:n})}return e},D.mouseDown=function(e,t){return e=Object(P.a)({},e,{smoothingBuffer:[],projectedPoints:[],committedPoints:[],startedAt:Date.now(),tracking:!0}),e=D.appendToSmoothingBuffer(t,e),D.updateVisiblePoints(e),Object(P.a)({},e)},D.mouseMove=function(e,t){return e.tracking&&(e=D.appendToSmoothingBuffer(t,e),e=D.updateVisiblePoints(e)),e},D.mouseUp=function(e,t){return Object(P.a)({},e,{tracking:!1})};var A=n(20),T=n.n(A),_=function(e,t){var n=e.pop(),a=n.curves,r=a.pop();return r.pathPoints=Object(M.a)(t),[].concat(Object(M.a)(e),[Object(P.a)({},n,{curves:[].concat(Object(M.a)(a),[r])})])};var U=function(e){switch(e){case a.Black:return"black";case a.Blue:return"blue";case a.Green:return"green";case a.Red:return"red";default:return"black"}},V=function(e,t){var n=D.mouseDown(e.inkDraw,t),a=function(e,t,n,a){var r=e.pop(),o={startedAt:t,id:"Cur_"+T.a.generate(),pathPoints:[],strokeColor:U(n),strokeWidth:3,toBeDeleted:!1};return o.pathPoints=Object(M.a)(a),[].concat(Object(M.a)(e),[Object(P.a)({},r,{curves:[].concat(Object(M.a)(r.curves),[o])})])}(e.figures,n.startedAt,e.toolSelected,n.projectedPoints);return Object(P.a)({},e,{inkDraw:n,figures:a})},R=n(16),L=function(e){for(var t=Object(M.a)(e),n=0;n<t.length;n++)t[n]=Object(P.a)({},t[n],{curves:t[n].curves.filter((function(e){return!e.toBeDeleted}))});return t.filter((function(e){return e.curves.length>0}))},W=function(e){switch(e){case a.Black:case a.Blue:case a.Green:case a.Red:return!0;default:return!1}},H=function(e,t){return W(e.toolSelected)?V(e,t.relative):e.toolSelected===a.Eraser?function(e){return Object(P.a)({},e,{figures:L(e.figures)})}(e):e},z=function(e,t){return W(e.toolSelected)?function(e,t){if(!e.inkDraw.tracking)return e;var n=D.mouseMove(e.inkDraw,t);return Object(P.a)({},e,{inkDraw:n,figures:_(e.figures,e.inkDraw.projectedPoints)})}(e,t.relative):e.toolSelected===a.Eraser?function(e,t){for(var n=[{x:t.x-2,y:t.y-2},{x:t.x-2,y:t.y-1},{x:t.x-2,y:t.y},{x:t.x-2,y:t.y+1},{x:t.x-2,y:t.y+2},{x:t.x-1,y:t.y-2},{x:t.x-1,y:t.y-1},{x:t.x-1,y:t.y},{x:t.x-1,y:t.y+1},{x:t.x-1,y:t.y+2},{x:t.x,y:t.y-2},{x:t.x,y:t.y-1},{x:t.x,y:t.y},{x:t.x,y:t.y+1},{x:t.x,y:t.y+2},{x:t.x+1,y:t.y-2},{x:t.x+1,y:t.y-1},{x:t.x+1,y:t.y},{x:t.x+1,y:t.y+1},{x:t.x+1,y:t.y+2},{x:t.x+2,y:t.y-2},{x:t.x+2,y:t.y-1},{x:t.x+2,y:t.y},{x:t.x+2,y:t.y+1},{x:t.x+2,y:t.y+2}],a=Array.from(new Set(n.flatMap((function(e){return document.elementsFromPoint(e.x,e.y)})))).filter((function(e){return null===(t=e.id)||void 0===t?void 0:t.startsWith("Cur_");var t})).map((function(e){return e.id})),r=Object(M.a)(e.figures),o=0;o<r.length;o++){var c=r[o],i=c.curves.filter((function(e){return e.toBeDeleted!==a.includes(e.id)})).map((function(e,t){return t}));if(i.length>0){var l,s=Object(M.a)(c.curves),u=Object(R.a)(i);try{for(u.s();!(l=u.n()).done;){var f=l.value;s[f]=Object(P.a)({},s[f],{toBeDeleted:!s[f].toBeDeleted})}}catch(p){u.e(p)}finally{u.f()}r[o]=Object(P.a)({},c,{curves:s})}}return Object(P.a)({},e,{figures:r})}(e,t.absolute):e},I=function(e,t,n){return W(e.toolSelected)?function(e,t,n){var a=D.mouseUp(e.inkDraw,t),r=_(e.figures,e.inkDraw.projectedPoints),o=r[r.length-1],c=o.curves[o.curves.length-1],i=C(d.CurveCompleted,{figureId:o.id,curveId:c.id});return n.push(i),Object(P.a)({},e,{inkDraw:a,figures:r})}(e,t,n):e},G=function(e,t,n){switch(t.type){case m.ToolSelected:return function(e,t){var n=e.figures;return W(t)&&(n=[].concat(Object(M.a)(e.figures),[{id:"Fig_"+T.a.generate(),offset:{x:0,y:0},curves:[],curveTimes:[]}])),Object(P.a)({},e,{toolSelected:t,figures:n})}(e,t.payload.tool);case m.CanvasMouseDown:return H(e,t.payload.point);case m.CanvasMouseMove:return z(e,t.payload.point);case m.CanvasMouseUp:return I(e,t.payload.point.relative,n);default:return e}},q=function(e,t){switch(t.type){case p.QuickDrawPredictionReceived:return Object(P.a)({},e,{quickDraw:{topMatches:t.payload}});default:return e}},Z={canvas:v,predictions:{quickDraw:{topMatches:[]},basicShape:{shape:""}}},Q=n(8),J=n.n(Q),K=n(9),X=function(e,t,n){var a,r=[],o=Object(R.a)(n.curves);try{var c=function(){var e=a.value;r.push(e.pathPoints.map((function(t){return Object(P.a)({},t,{timespan:t.timespan+e.startedAt-n.curves[0].startedAt})})))};for(o.s();!(a=o.n()).done;)c()}catch(i){o.e(i)}finally{o.f()}return{input_type:0,requests:[{language:"quickdraw",writing_guide:{width:e,height:t},ink:r.map((function(e){return[e.map((function(e){return e.x})),e.map((function(e){return e.y})),e.map((function(e){return e.timespan}))]}))}]}},Y=function(e,t,n){return fetch("https://inputtools.google.com/request?ime=handwriting&app=quickdraw&dbg=1&cs=1&oe=UTF-8",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X(e,t,n))})},$=J.a.mark(ne),ee=J.a.mark(ae),te=function(e,t){return e.canvas.figures.find((function(e){return e.id===t}))};function ne(e){var t,n,a,r;return J.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.type!==d.CurveCompleted){o.next=11;break}return t=e.payload.figureId,o.next=4,Object(K.b)(te,t);case 4:return n=o.sent,o.next=7,Y(1e3,1e3,n).then((function(e){return e.json()}));case 7:return a=o.sent,r=a[1][0][1],o.next=11,Object(K.a)(x(p.QuickDrawPredictionReceived,r));case 11:case"end":return o.stop()}}),$)}function ae(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)(b(m.ToolSelected,{tool:a.Black}));case 2:return e.next=4,Object(K.c)(d.CurveCompleted,ne);case 4:case"end":return e.stop()}}),ee)}var re=J.a.mark(oe);function oe(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.c)(d.StartApplication,ae);case 2:case"end":return e.stop()}}),re)}var ce=Object(F.a)(),ie=Object(B.a)(ce);var le=Object(B.a)((function(e){return function(t){return function(n){var a=!1,r=[];function o(){r.forEach((function(t){return e.dispatch(t)})),r=[]}var c=Object.assign({},n,{asyncDispatch:function(e){r=r.concat(e),a&&o()}}),i=t(c);return a=!0,o(),i}}})),se=[ie],ue=B.c.apply(void 0,[le].concat(se)),fe=Object(B.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,n=[],a={predictions:q(e.predictions,t),canvas:G(e.canvas,t,n)},r=t.asyncDispatch;return r&&r(n),a}),Z,ue);ce.run(oe);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h.a,{store:fe},o.a.createElement(S,null))),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.c8be083e.chunk.js.map